---
import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';
import Container from './Container.astro';
import { blogPosts } from '../data/blog-posts';

const { excludeSlug } = Astro.props;
const posts = blogPosts
  .filter((post) => post.slug !== excludeSlug)
  .slice(0, 2)
  .map((post) => ({
    ...post,
    href: `/blog/${post.slug}`
  }));
---

<!--
  more-blog-section
  - section-padding-top-100: pt-100; 991: pt-80; 767: pt-60
  - section-padding-bottom-100: pb-100; 991: pb-80; 767: pb-60
-->
<section class="pt-100 pb-100 max-991:pt-80 max-991:pb-80 max-767:pt-60 max-767:pb-60">
  <Container>

    <!--
      section-content-block-three
      - grid, gap-15, cols 8fr 4fr, items-center, mb-50
      - xl: mb-60
      - 991: mb-40
      - 767: cols 1fr 1fr, mb-30
      - 479: cols 1fr, gap-10, justify-items-center
    -->
    <div class="mb-50 grid grid-cols-[8fr_4fr] items-center gap-[15px] xl:mb-60 max-991:mb-40 max-767:mb-30 max-767:grid-cols-[1fr_1fr] max-479:grid-cols-[1fr] max-479:gap-[10px] max-479:justify-items-center">

      <!-- team-section-content-wrap > section-title margin-zero -->
      <div>
        <h2 class="mb-0">More of Our Blogs</h2>
      </div>

      <!--
        section-content-button margin-zero align-right
        - text-align: right, mb-0
        - 767: text-align left
      -->
      <div class="mb-0 text-right max-767:text-left">
        <!-- button-outline-inline: inline-block -->
        <div class="inline-block">
          <!--
            button-outline-link-wrap border-radius
            - gap 8.5px, border 1.5px solid black, rounded-50
            - letter-spacing -0.16px, items-center, px-24 py-12
            - font-size 16px, font-weight 500, line-height 24px
            - transition color/bg .3s, flex
            - hover: bg black, color white
          -->
          <a
            href="/blog-grid"
            class="inline-flex items-center gap-[8.5px] rounded-[50px] border-[1.5px] border-solid border-[#081120] px-[24px] py-[12px] text-[16px] font-medium leading-[24px] tracking-[-0.16px] text-[#081120] transition-colors duration-300 hover:bg-[#081120] hover:text-white"
          >
            <div>All Blogs</div>
            <!--
              button-outline-arrow-right
              - w-16, h-16, mt-3px, leading-1em, relative
            -->
            <div class="relative mt-[3px] h-[16px] w-[16px] leading-[1em]">
              <svg viewBox="0 0 16 16" fill="none" class="h-auto w-full" aria-hidden="true">
                <path d="M9.62012 3.95331L13.6668 7.99998L9.62012 12.0466" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" />
                <path d="M2.33325 8H13.5533" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </div>
          </a>
        </div>
      </div>
    </div>

    <!-- more-blog-wrap -->
    <div>
      <!--
        collection-list-more-blog
        - grid, gap-30, cols 1fr 1fr
        - 767: cols 1fr
      -->
      <div class="grid grid-cols-[1fr_1fr] gap-30 max-767:grid-cols-[1fr]">
        {posts.map((post) => (
          <!-- collection-item-more-blog -->
          <div class="reveal">
            <!--
              single-blog-wrapper-two blog-bg-white
              - bg white, border 1px solid #e5e7eb, rounded-8
              - transition box-shadow .3s, overflow hidden
              - hover: box-shadow 0 8px 65px #19233f14
            -->
            <div class="group overflow-hidden rounded-8 border border-solid border-[#e5e7eb] bg-white transition-shadow duration-300 hover:shadow-[0_8px_65px_#19233f14]">

              <!-- blog-image-wrap: overflow hidden -->
              <div class="overflow-hidden">
                <!-- blog-image-link: block -->
                <a href={post.href} class="block">
                  <!-- blog-image: w-full, hover scale 1.1 -->
                  <Image
                    src={post.image.src as ImageMetadata}
                    alt={post.image.alt}
                    class="block h-auto w-full transition-transform duration-300 group-hover:scale-110"
                    loading="lazy"
                    decoding="async"
                    width={570}
                    height={380}
                  />
                </a>
              </div>

              <!--
                blog-content-wrap-two
                - gap-10, justify-between, items-end, px-24 pt-25 pb-24, flex
                - 479: px-18
              -->
              <div class="flex items-end justify-between gap-[10px] px-[24px] pt-[25px] pb-[24px] max-479:px-[18px]">

                <!--
                  blog-content
                  - flex: 0 0 80%
                -->
                <div class="flex-[0_0_80%]">

                  <!--
                    blog-meta-wrap
                    - gap-12, flex-wrap, mb-12, flex
                    - 767: mb-10
                  -->
                  <div class="mb-[12px] flex flex-wrap gap-[12px] max-767:mb-[10px]">
                    <!--
                      blog-meta-icon
                      - color primary (#598989), w-24, mt-1px, leading-1em
                    -->
                    <div class="mt-[1px] w-[24px] leading-[1em] text-[#598989]">
                      <svg viewBox="0 0 24 23" fill="currentColor" class="h-auto w-full" aria-hidden="true">
                        <path d="M5.64705 0.206055C5.29411 0.206055 4.94117 0.488408 4.94117 0.911937V1.61782H2.82352C1.69411 1.61782 0.705872 2.53547 0.705872 3.73547V6.559V20.6766C0.705872 21.8766 1.62352 22.7943 2.82352 22.7943H21.1765C22.3765 22.7943 23.2941 21.8766 23.2941 20.6766V6.559V3.73547C23.2941 2.53547 22.3765 1.61782 21.1765 1.61782H19.0588V0.911937C19.0588 0.488408 18.7765 0.206055 18.3529 0.206055C17.9294 0.206055 17.647 0.488408 17.647 0.911937V1.61782H6.35293V0.911937C6.35293 0.488408 6.07058 0.206055 5.64705 0.206055ZM21.8823 20.6766C21.8823 21.1002 21.6 21.3825 21.1765 21.3825H2.82352C2.39999 21.3825 2.11764 21.1002 2.11764 20.6766V7.26488H21.8823V20.6766ZM17.647 3.02958V3.73547C17.647 4.159 17.9294 4.44135 18.3529 4.44135C18.7765 4.44135 19.0588 4.159 19.0588 3.73547V3.02958H21.1765C21.6 3.02958 21.8823 3.31194 21.8823 3.73547V5.85311H2.11764V3.73547C2.11764 3.31194 2.39999 3.02958 2.82352 3.02958H4.94117V3.73547C4.94117 4.159 5.22352 4.44135 5.64705 4.44135C6.07058 4.44135 6.35293 4.159 6.35293 3.73547V3.02958H17.647Z" fill="currentColor" />
                        <path d="M5.01176 13.2651H7.83529C8.25882 13.2651 8.54117 12.9827 8.54117 12.5592V9.73567C8.54117 9.31214 8.25882 9.02979 7.83529 9.02979H5.01176C4.58823 9.02979 4.30588 9.31214 4.30588 9.73567V12.5592C4.30588 12.9827 4.58823 13.2651 5.01176 13.2651ZM5.71764 10.4415H7.12941V11.8533H5.71764V10.4415Z" fill="currentColor" />
                        <path d="M10.6588 13.2651H13.4824C13.9059 13.2651 14.1882 12.9827 14.1882 12.5592V9.73567C14.1882 9.31214 13.9059 9.02979 13.4824 9.02979H10.6588C10.2353 9.02979 9.95294 9.31214 9.95294 9.73567V12.5592C9.95294 12.9827 10.2353 13.2651 10.6588 13.2651ZM11.3647 10.4415H12.7765V11.8533H11.3647V10.4415Z" fill="currentColor" />
                        <path d="M16.3059 13.2651H19.1294C19.5529 13.2651 19.8353 12.9827 19.8353 12.5592V9.73567C19.8353 9.31214 19.5529 9.02979 19.1294 9.02979H16.3059C15.8823 9.02979 15.6 9.31214 15.6 9.73567V12.5592C15.6 12.9827 15.8823 13.2651 16.3059 13.2651ZM17.0117 10.4415H18.4235V11.8533H17.0117V10.4415Z" fill="currentColor" />
                        <path d="M5.01176 19.6176H7.83529C8.25882 19.6176 8.54117 19.3353 8.54117 18.9117V16.0882C8.54117 15.6647 8.25882 15.3823 7.83529 15.3823H5.01176C4.58823 15.3823 4.30588 15.6647 4.30588 16.0882V18.9117C4.30588 19.3353 4.58823 19.6176 5.01176 19.6176ZM5.71764 16.7941H7.12941V18.2059H5.71764V16.7941Z" fill="currentColor" />
                        <path d="M10.6588 19.6176H13.4824C13.9059 19.6176 14.1882 19.3353 14.1882 18.9117V16.0882C14.1882 15.6647 13.9059 15.3823 13.4824 15.3823H10.6588C10.2353 15.3823 9.95294 15.6647 9.95294 16.0882V18.9117C9.95294 19.3353 10.2353 19.6176 10.6588 19.6176ZM11.3647 16.7941H12.7765V18.2059H11.3647V16.7941Z" fill="currentColor" />
                        <path d="M16.3059 19.6176H19.1294C19.5529 19.6176 19.8353 19.3353 19.8353 18.9117V16.0882C19.8353 15.6647 19.5529 15.3823 19.1294 15.3823H16.3059C15.8823 15.3823 15.6 15.6647 15.6 16.0882V18.9117C15.6 19.3353 15.8823 19.6176 16.3059 19.6176ZM17.0117 16.7941H18.4235V18.2059H17.0117V16.7941Z" fill="currentColor" />
                      </svg>
                    </div>
                    <!-- blog-meta-text: date text -->
                    <div>{post.date}</div>
                  </div>

                  <!-- blog-title-link > blog-title green-color-hover -->
                  <a href={post.href} class="block">
                    <!--
                      blog-title green-color-hover
                      - letter-spacing .32px, mb-0, 26px/36px, transition color .3s
                      - xl: 32px/41.6px
                      - 991: line-height 34px
                      - 479: 22px/30px
                      - hover: color #598989
                    -->
                    <h3 class="mb-0 text-[26px] leading-[36px] tracking-[0.32px] transition-colors duration-300 hover:text-[#598989] xl:text-[32px] xl:leading-[41.6px] max-991:leading-[34px] max-479:text-[22px] max-479:leading-[30px]">
                      {post.title}
                    </h3>
                  </a>
                </div>

                <!--
                  blog-button-wrap-three
                  - border 1px solid #081120, rounded-full, justify-center, items-center
                  - w-40, h-40, flex
                  - bg transparent, color #081120
                  - hover: bg #598989, border-color #598989, color white
                -->
                <a
                  href={post.href}
                  class="flex h-[40px] w-[40px] flex-shrink-0 items-center justify-center rounded-full border border-solid border-[#081120] text-[#081120] transition-colors duration-300 group-hover:border-[#598989] group-hover:bg-[#598989] group-hover:text-white"
                  aria-label={`Read ${post.title}`}
                >
                  <!-- blog-button-icon-two: w-20, h-1em -->
                  <div class="h-[1em] w-20 leading-[1em]">
                    <svg viewBox="0 0 20 20" fill="none" class="h-auto w-full" aria-hidden="true">
                      <path d="M7.4585 3.4001L12.8918 8.83343C13.5335 9.4751 13.5335 10.5251 12.8918 11.1668L7.4585 16.6001" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                  </div>
                </a>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>

  </Container>
</section>
