---
import { Image } from 'astro:assets';
import Container from './Container.astro';
import { resolveImage } from '../utils/resolveImage';

const listItems = [
  {
    name: 'Renee Wells',
    role: 'Product Designer, Quotient',
    quote: "We hired XYZ Construction for our home renovation project, and we couldn't be happier with the results. The attention to detail & craftsmanship they displayed was truly exceptional. Our home now looks better than we ever imagined.",
    image: { src: resolveImage('/images/client-img-1.png'), alt: 'Renee Wells' },
    rating: 5
  },
  {
    name: 'Lana Steiner',
    role: 'UX/UI Designer, HasTech',
    quote: "The construction theme's compatibility with popular plugins is a huge plus. It integrates seamlessly with my preferred tools, making it a convenient choice for managing my construction projects online.",
    image: { src: resolveImage('/images/client-img-2.png'), alt: 'Lana Steiner' },
    rating: 5
  },
  {
    name: 'Rhonda Rook',
    role: 'Product Designer, Quotient',
    quote: 'Outstanding theme for construction companies! The clean design, coupled with the robust features, has elevated my online presence. Clients love the user-friendly interface. 10/10 would recommend!',
    image: { src: resolveImage('/images/client-img-3.png'), alt: 'Rhonda Rook' },
    rating: 5
  }
];
---

<section class="pt-100 pb-100 max-991:pt-80 max-991:pb-80 max-767:pt-60 max-767:pb-60">
  <Container>
    <div class="testimonial-list">
      {listItems.map((item, index) => (
        <div class={`reveal grid grid-cols-[4fr_8fr] gap-30 max-767:gap-20 max-479:grid-cols-1 max-479:text-center ${index < listItems.length - 1 ? 'mb-50 max-991:mb-40' : ''}`}>
          <div class="overflow-hidden">
            <Image
              src={item.image.src}
              alt={item.image.alt}
              class="block h-auto w-full transition-transform duration-300 hover:scale-110"
              loading="lazy"
              decoding="async"
              width={370}
              height={460}
            />
          </div>
          <div>
            <div class="flex flex-wrap items-center gap-[5px] max-479:justify-center">
              {Array.from({ length: item.rating }).map(() => (
                <div class="h-20 w-20 text-gold">
                  <svg viewBox="0 0 24 24" fill="currentColor" class="h-full w-full" aria-hidden="true">
                    <path d="M11.446 1.93205C11.651 1.43928 12.349 1.43928 12.554 1.93205L15.0333 7.89303C15.1197 8.10077 15.3151 8.24271 15.5393 8.26069L21.9747 8.77661C22.5067 8.81926 22.7224 9.48317 22.3171 9.83037L17.414 14.0304C17.2432 14.1767 17.1685 14.4064 17.2207 14.6253L18.7187 20.9051C18.8425 21.4242 18.2778 21.8345 17.8223 21.5564L12.3128 18.1911C12.1207 18.0738 11.8793 18.0738 11.6872 18.1911L6.17767 21.5564C5.72221 21.8345 5.15746 21.4242 5.28129 20.9051L6.77926 14.6253C6.83147 14.4064 6.75684 14.1767 6.58597 14.0304L1.68289 9.83037C1.27757 9.48317 1.49329 8.81926 2.02528 8.77661L8.46065 8.26069C8.68493 8.24271 8.88029 8.10077 8.9667 7.89303L11.446 1.93205Z" fill="currentColor" />
                  </svg>
                </div>
              ))}
            </div>
            <p class="testimonial-excerpt-two mb-0">&ldquo;{item.quote}&rdquo;</p>
            <div class="mt-23 xl:mt-33 max-991:mt-15 max-479:mt-12">
              <div class="client-name-two">{item.name}</div>
              <div class="text-[20px] text-ink-body">{item.role}</div>
            </div>
          </div>
        </div>
      ))}
    </div>
  </Container>
</section>

<style>
  .testimonial-excerpt-two {
    letter-spacing: 0.3px;
    margin-top: 25px;
    font-size: 24px;
    line-height: 34px;
  }

  .client-name-two {
    letter-spacing: -0.26px;
    margin-bottom: 4px;
    font-size: 26px;
    font-weight: 500;
    line-height: 36px;
  }

  @media (min-width: 1280px) {
    .testimonial-excerpt-two {
      margin-top: 35px;
      margin-right: 10px;
      font-size: 30px;
      line-height: 39px;
    }
  }

  @media (max-width: 991px) {
    .testimonial-excerpt-two {
      margin-top: 15px;
      font-size: 20px;
      line-height: 30px;
    }

    .client-name-two {
      font-size: 24px;
      line-height: 30px;
    }
  }

  @media (max-width: 767px) {
    .client-name-two {
      margin-bottom: 2px;
      font-size: 22px;
      line-height: 28px;
    }
  }

  @media (max-width: 479px) {
    .testimonial-excerpt-two {
      margin-top: 10px;
    }
  }
</style>
