---
import type { ImageMetadata } from 'astro';
import { Image } from 'astro:assets';
import Container from './Container.astro';
import { aboutPage } from '../data/about-page';
import { resolveImage } from '../utils/resolveImage';

const { heading, bullets, excerpt, image, shapes, experience } = aboutPage;
---

<!--
  About Us Section (About Page Version - about-us-wrap-four)
  - padding-top: 90px (991: 70px, 767: 50px)
  - padding-bottom: 100px (991: 80px, 767: 60px)
-->
<section class="about-us-section pt-90 pb-100 max-991:pt-70 max-991:pb-80 max-767:pt-50 max-767:pb-60">
  <Container>
    <!--
      About Us Wrap Four
      - display: grid
      - grid-template-columns: 5fr 7fr (991: 1fr)
      - gap: 30px (1280: 56px)
    -->
    <div class="about-us-wrap-four grid grid-cols-1 gap-30 min-992:grid-cols-[5fr_7fr] xl:gap-56 max-991:gap-40 max-767:gap-30">
      <!--
        About Us Image Wrap Three
        - margin-top: 36px (991: 20px, 479: 20px)
        - margin-right: 0
      -->
      <div class="about-us-image-wrap-three reveal mt-36 max-991:mt-20 max-767:mt-10 max-479:mt-20">
        <!--
          About Us Image Inner Three
          - position: relative
          - padding-right: 53px (479: 0)
        -->
        <div class="about-us-image-inner-three relative pr-53 max-479:pr-0">
          <!--
            About Us Main Image Wrap Three
            - z-index: 2
            - border-radius: 8px
            - position: relative
            - overflow: hidden
          -->
          <div class="about-us-main-image-wrap-three relative z-[2] overflow-hidden rounded-8">
            <!--
              About Us Main Image Three
              - width: 100%
              - transition: transform 0.3s
              - hover: scale(1.1)
            -->
            <Image
              src={resolveImage('/images/about-us-main-img-3.webp') as ImageMetadata}
              alt={image.alt}
              class="about-us-main-image-three h-auto w-full transition-transform duration-300 hover:scale-110"
              loading="lazy"
              decoding="async"
              width={560}
              height={640}
            />
          </div>

          <!--
            Experience Company Wrap (Position Two)
            - display: flex
            - align-items: center
            - gap: 25px (479: 15px)
            - background-color: white
            - border-radius: 8px
            - padding: 36px 24px 24px (479: 15px)
            - box-shadow: 16px 0 32px 16px #2c303c17
            - z-index: 3
            - position: absolute (479: relative)
            - bottom: 0, right: 0
            - margin-bottom: 30px (1280: 50px)
          -->
          <div class="experience-company-wrap absolute bottom-0 right-0 z-[3] mb-30 flex items-center gap-25 rounded-8 bg-surface-white px-24 pb-24 pt-36 shadow-exp xl:mb-50 max-767:px-20 max-767:pt-30 max-767:pb-20 max-479:relative max-479:mb-0 max-479:mt-20 max-479:gap-15 max-479:px-15 max-479:py-15">
            <!--
              Experience Company Year Wrap
            -->
            <div class="experience-company-year-wrap">
              <!--
                Experience Company Year
                - font-size: 46px (479: 30px)
                - line-height: 31px (479: 28px)
                - letter-spacing: -0.46px
                - font-weight: 500
                - color: heading-color
                - 479: text-align: center
              -->
              <div class="experience-company-year text-year tracking-year text-ink-heading max-479:text-center max-479:text-[30px] max-479:leading-[28px]">
                {experience.years}<br />
                <!--
                  Experience Company Year Span
                  - font-size: 20px (479: 18px)
                  - letter-spacing: -0.2px
                -->
                <span class="experience-company-year-span text-year-label tracking-year-label max-479:text-[18px]">{experience.label}</span>
              </div>
            </div>

            <!--
              Experience Company Separation
              - background-color: #e5e7eb
              - width: 2px
              - height: 66px
            -->
            <div class="experience-company-sepation h-66 w-2 bg-neutral-200 max-479:h-50"></div>

            <!--
              Experience Company Text Block
              - color: #4d5761
              - font-size: 22px (479: 19px)
              - line-height: 30.8px
              - margin-top: -5px
            -->
            <div class="experience-company-text-block -mt-5 text-exp text-neutral-600 max-479:text-[19px]">
              Of Experience in<br />This Company.
            </div>
          </div>

          <!--
            About Three Shape Image One
            - position: absolute
            - z-index: 2
            - width: 102px (479: 80px)
            - top: -32px (479: -27px)
            - right: 20px (479: 14px)
          -->
          <Image
            src={resolveImage('/images/about-us-3-shape-img-1.webp') as ImageMetadata}
            alt={shapes[0].alt}
            class="about-three-shape-image-one pointer-events-none absolute -top-32 right-20 z-[2] w-102 h-auto max-479:w-80 max-479:-top-[27px] max-479:right-[14px]"
            loading="lazy"
            decoding="async"
            width={102}
            height={65}
          />

          <!--
            About Three Shape Image Two (Position Modify)
            - position: absolute
            - z-index: 1
            - width: 182px (991: 130px, 479: 100px)
            - bottom: -62px (1280 position-modify: -80px, 1440 position-modify: -108px)
            - left: -41px (1440: -59px, 1440 position-modify: -106px, 991: -20px, 479: -20px)
          -->
          <Image
            src={resolveImage('/images/about-us-3-shape-img-2.webp') as ImageMetadata}
            alt={shapes[1].alt}
            class="about-three-shape-image-two pointer-events-none absolute -bottom-[80px] -left-[106px] z-[1] w-182 h-auto min-1440:-bottom-[108px] min-1440:-left-[106px] max-991:w-130 max-991:-left-20 max-991:-bottom-[62px] max-767:w-100 max-767:-bottom-[50px] max-479:w-100 max-479:-left-20"
            loading="lazy"
            decoding="async"
            width={182}
            height={188}
          />
        </div>
      </div>

      <!--
        About Us Content Wrap
        - with .mr-20 class at 1440: margin-right: 20px
      -->
      <div class="about-us-content-wrap min-1440:mr-20">
        <!--
          About Us Section Content Wrap
        -->
        <div class="about-us-section-content-wrap">
          <!--
            Section Subtitle Wrap
            - display: flex
            - align-items: center
            - flex-wrap: wrap
            - gap: 15px
            - margin-bottom: 12px (991: 5px)
          -->
          <div class="section-subtitle-wrap reveal mb-12 flex flex-wrap items-center gap-15 max-991:mb-5">
            <!--
              Section Subtitle Shape
              - background-color: primary-color (#ff7a01)
              - width: 64px
              - height: 2px
              - border-radius: 50px
            -->
            <div class="section-subtitle-shape h-2 w-64 rounded-100 bg-brand-primary max-479:w-50"></div>
            <!--
              Section Subtitle Text
              - color: primary-color (#ff7a01)
              - font-size: 16px
              - font-weight: 600
              - letter-spacing: 3px
            -->
            <div class="section-subtitle-text text-label tracking-subtitle text-brand-primary">{heading.subtitle}</div>
          </div>

          <!--
            Section Title
            - margin-bottom: 15px
            - h2 styling with responsive sizes
          -->
          <h2 class="section-title reveal delay-1 mb-15 text-h2 tracking-h2 text-ink-heading xl:text-[46px] xl:leading-[55.2px] max-991:text-[38px] max-991:leading-[48px] max-767:text-[32px] max-767:leading-[42px] max-479:text-[28px] max-479:leading-[36px]">
            {heading.title}
          </h2>

          <!--
            Section Excerpt
            - margin-bottom: 5px
          -->
          <p class="section-excerpt reveal delay-2 mb-5 text-body tracking-body text-ink-body">{heading.description}</p>
        </div>

        <!--
          About Us List
          - margin-top: 20px (1280: 30px, 767: 20px)
          - margin-bottom: 20px (1280: 30px, 767: 20px)
        -->
        <ul class="about-us-list reveal delay-3 my-20 list-none xl:my-30 max-767:my-20">
          {bullets.map((item, index) => (
            <li
              class:list={[
                'about-us-list-item mb-12 bg-[url(/images/check-small.webp)] bg-[position:0_5px] bg-no-repeat pl-30 text-body tracking-body text-ink-body xl:mb-16 max-767:mb-10',
                { '!mb-0': index === bullets.length - 1 }
              ]}
            >
              {item}
            </li>
          ))}
        </ul>

        <!--
          About Us Excerpt
        -->
        <p class="about-us-excerpt reveal delay-4 text-body tracking-body text-ink-body">{excerpt}</p>
      </div>
    </div>
  </Container>
</section>

<style>
  /* Shape Image One - Animation */
  @keyframes about-shape-move {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  .about-three-shape-image-one {
    animation: about-shape-move 3s ease-in-out infinite;
  }

  /* Shape Image Two - Animation */
  @keyframes about-shape-move-reverse {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(10px);
    }
  }

  .about-three-shape-image-two {
    animation: about-shape-move-reverse 3s ease-in-out infinite;
  }
</style>
